## 类加载模型（ClassLoader）
类加载器
自定义类加载器
类加载器使用场景



1. **启动类加载器**:
    
    - 加载 `java.lang`、`java.util` 等核心包中的类。
2. **扩展类加载器**:
    
    - 加载位于 `$JAVA_HOME/jre/lib/ext` 或者 `-Djava.ext.dirs` 指定目录下的JAR文件中的类。
3. **应用类加载器**:
    
    - 加载从命令行指定的 `CLASSPATH` 中的类，例如 `SymbolicAndDirectReferencesExample` 和 `ExampleClass`。
4. **用户自定义类加载器**:
    
    - 如果应用程序中有自定义的类加载器，它们会在适当的时候被加载和使用。



应用启动时，jvm按顺序执行类加载器，类加载器会先让父加载器去加载，如果父加载器加载不了，就自己加载。



> [!NOTE] 启动类加载器会把java.lang，java.util包下的类一次全部加载进去吗？
> 不会，会按需加载，子加载器请求加载的时候就会去加载?核心类库会启动时就加载，比如String，Byte，Object等。



1. **类加载过程**：
    
    - **加载（Loading）**：读取类的二进制数据到内存中。
    - **验证（Verification）**：确保加载的类信息符合JVM规范。
    - **准备（Preparation）**：为类变量分配内存并设置默认值。
    - **解析（Resolution）**：将符号引用转换为直接引用。
    - **初始化（Initialization）**：执行类构造器`<clinit>`方法。
2. **双亲委派模型**：
    
    - 类加载器在加载类时，首先委托给父类加载器尝试加载，只有父类加载器无法加载时才会尝试自己加载。